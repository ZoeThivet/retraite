"use strict";

angular.module('SgmapRetraiteExploit').service('InfoRetraite', function ($q, $http) {
    
    this.get = function(name, nir, dateNaissance) {

        var deferred = $q.defer();

        $http({
            url: '/api/inforetraite', 
            method: "GET",
            params: {
                name: name,
                nir: nir,
                dateNaissance: dateNaissance
            }
        }).then(function onSuccess(result) {
            deferred.resolve(result.data);
        },
        function onError(error) {
            deferred.reject(error);
        });

        return deferred.promise;
    };

});
